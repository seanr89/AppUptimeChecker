

CREATE DATABASE UptimeDB;
GO
USE UptimeDB;
GO

CREATE TABLE Url (
     ID int IDENTITY(1,1) PRIMARY KEY,
     Name nvarchar(255) NOT NULL
);

CREATE TABLE Uptime(
    ID int IDENTITY(1,1) PRIMARY KEY,
    URL_ID INT NOT NULL,
    ResponseCode INT NOT NULL,
    Duration int NOT NULL,
    EventDate DATETIME
);

CREATE TABLE URL(
    ID int IDENTITY(1,1) PRIMARY KEY,
    Address NVARCHAR(255) NOT NULL
);
-- CREATE LOGIN $(MSSQL_USER) WITH PASSWORD = '$(MSSQL_PASSWORD)';
-- GO
-- CREATE USER $(MSSQL_USER) FOR LOGIN $(MSSQL_USER);
-- GO
-- ALTER SERVER ROLE sysadmin ADD MEMBER [$(MSSQL_USER)];
-- GO